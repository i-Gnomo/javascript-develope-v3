<!DOCTYPE html>
<html>

<head>
    <title>demo</title>
</head>

<body>
    <div id="drawing">
    </div>
</body>
<script type="text/javascript" src="http://zeptojs.com/zepto.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/svg.js/2.6.5/svg.min.js"></script>
<script>
    // var draw = SVG('drawing').size(300, 130)
    // var circle = draw.circle(50).fill('#fff')

    // var mask = draw.mask()
    // mask.add(circle.center(35, 35))
    // mask.add(circle.clone().center(70, 70).size(70).fill('#ccc'))
    // mask.add(circle.clone().center(90, 30).size(30).fill('#999'))
    // mask.add(circle.clone().center(105, 115).size(50).fill('#333'))

    // var rect = draw.rect(100, 100).move(20, 20).fill('#f06')
    // rect.maskWith(mask)

    // rect.on('mouseover', function() {
    //     this.animate(300, '>').fill('#0f9')
    // })
    // rect.on('mouseout', function() {
    //     this.animate(300, '>').fill('#f06')
    // })


    var draw = SVG('drawing').size(300, 300);
    var group = draw.group().addClass('my-group')
    var rect = group.rect(100, 100).addClass('my-element')
        // rect.animate({
        //         ease: '<',
        //         delay: '0.5s'
        //     }).attr({
        //         fill: '#f03'
        //     }).queue(function() {
        //         this.target().fill('#f09')
        //         this.dequeue() // dont forget to call dequeue when the queue should continue running
        //     }).animate().dmove(150, 150)

    var position, from = 100,
        to = 300;

    // rect.animate(3000).move(100, 100).during(function(pos, morph, eased, situation) {
    //     position = from + (to - from) * pos;
    // })
    // or
    rect.animate(3000).move(100, 100).duringAll(function(pos, morph, eased, situation) {
        position = from + (to - from) * pos;
    })

    var ellipse = draw.ellipse(100, 100).attr('cx', '20%').fill('#333')

    rect.animate(3000).move(100, 100).during(function(pos, morph, eased, situation) {
        // numeric values
        ellipse.size(morph(100, 200), morph(100, 50))

        // unit strings
        ellipse.attr('cx', morph('20%', '80%'))

        // hex color strings
        ellipse.fill(morph('#333', '#ff0066'))
    })




    // var circle = group.circle(100).addClass('my-element').move(100, 100)
    // rect.animate(3000).move(100, 100).once(0.5, function(pos, eased) {
    //         console.log("sorry");
    //     }, true)
    // rect.animate({
    //         ease: '<',
    //         delay: '1.5s'
    //     }).attr({
    //         fill: '#f03'
    //     }).delay(500).animate().dmove(50, 50)
    // var animation = draw.rect(100, 100).move(50, 50).animate('=').move(200, 200)

    // document.onmousemove = function(event) {
    //         animation.at(event.clientX / 1000)
    //     }
    // var rect = draw.rect(100, 100).addClass('my-element');
    // rect.animate(3000).move(100, 100);
    // // rect.finish();
    // rect.mouseover(function() {
    //     this.pause()
    // })
    // rect.mouseout(function() {
    //         this.play()
    //     })
    // setTimeout(function() {
    //         rect.fx.situation.play(false);
    //     }, 1500)
    // rect.fx.situation
    // rect.attr('x', '10%').animate().attr('x', '50%');

    // get elements in group
    // var elements = $('#drawing g.my-group .my-element').each(function() {
    //     // this.instance.animate().fill('#f09').move(200, 200);
    //     this.instance.animate().rotate(45).skew(25, 0);
    // })
</script>

</html>