!function(n){var a,i,e,t;if(!{mobile:!!window.navigator.userAgent.toLowerCase().match(/iphone|ipad|ios|android|ipod/)}.mobile)return n("body").html('<p style="font-size: 16px;line-height: 50px;margin-left: 20px;height: 50px;">只能在移动设备上操作游戏！</p>');function o(){return 375==screen.width&&812==screen.height}n("body").addClass("app-handle"),o()?(a=375,i=812,t=__MYPUBLIC__+"/images/bg2.jpg"):(a=540,i=960,t=__MYPUBLIC__+"/images/bg.jpg"),e=(i/a).toFixed(2);var s=document.body.clientWidth,l=s*e;function r(e,t){return{width:e/a*s,height:t/i*l}}for(var d=[{x1:0,y1:-(o()?.16*l:.3*l),x2:0,y2:.5*l},{x1:0,y1:o()?.1*l:.16*-l,x2:s,y2:.26*-l},{x1:0,y1:o()?.1*l:.16*-l,x2:-s,y2:.26*-l},{x1:0,y1:o()?.1*l:.16*-l,x2:s,y2:.16*-l},{x1:0,y1:o()?.1*l:.16*-l,x2:s,y2:.2*l}],p=SVG("loading").size(s,l),m=p.group().size(140,190).center((s-140)/2,(l-240)/2),c=6;0<c;c--)m.add(p.image(__MYPUBLIC__+"/images/loading/load_0"+c+".jpg").size(140,190).addClass("load_"+c));m.select("image").attr("display","none"),m.animate(1e3,"-").during(function(e,t,a){var i=(10*e).toFixed(0)- -2;i%2==0&&(m.select("image").attr("display","none"),m.select("image.load_"+(i/2).toFixed(0)).attr("display","inline"))}).loop(!0,!0);var g=!1,h=!0,u=(new Date).getTime(),v=SVG("basket").size(s,l),f=(v.image(t).size("100%","100%").loaded(function(e){}),{width:.54*s,height:.68*l});o()&&(f=r(190,438));for(var _=v.group().size(f.width,f.height).move((s-f.width)/2,l-f.height),y=8;0<y;y--)_.add(v.image(__MYPUBLIC__+"/images/cells/tlan__"+y+".png").addClass("peop_"+y).size(f.width,f.height));_.select("image").attr("display","none"),_.select("image.peop_1").attr("display","inline");for(var w=_.clone(),C=29;8<C;C--)w.add(v.image(__MYPUBLIC__+"/images/cells/tlan__"+C+".png").addClass("peop_"+C).size(f.width,f.height));_.addClass("people_a"),w.addClass("people_b"),w.select("image").attr("display","none");var b=r(102,124),x=v.image(__MYPUBLIC__+"/images/ballnet/1.png").size(b.width,b.height).move(.425*s,.21*l),k=v.group();k.size(b.width,b.height).move(.425*s,.211*l),o()&&(b=r(64,78),x.size(b.width,b.height).move(.43*s,.415*l),k.move(.43*s,.415*l));for(var I=1;I<8;I++)k.add(v.image(__MYPUBLIC__+"/images/ballnet/"+I+".png").addClass("ballnet_"+I).size(b.width,b.height));k.select("image").attr("display","none");for(var z=.15*s,T=v.group().center(.44*s,200).addClass("basketball"),M=5;0<M;M--)T.add(v.image(__MYPUBLIC__+"/images/cells/ball/tlan__q"+M+".png").addClass("ball_"+M).size(z,z));function Y(t){T.select("image.ball_1").attr("display","inline");var a=t?0:Math.floor(4*Math.random())- -1;T.animate(180,"<>").dmove(d[a].x1,d[a].y1).size(.8*z).after(function(){var e;t&&(x.attr("display","none"),k.animate(600,"-").during(function(e,t,a){var i=(10*e).toFixed(0)- -2;i%2==0&&(k.select("image").attr("display","none"),k.select("image.ballnet_"+(i/2).toFixed(0)).attr("display","inline"))}).after(function(){k.stop(),k.select("image").attr("display","none"),x.attr("display","inline")}),(e=document.getElementById("ballSuccMusic")).paused&&e.play()),T.animate(150,">").dmove(d[a].x2,d[a].y2).size(.2*z).after(function(){console.log("ballover11111---",h),T.stop(),console.log("ballover22222---",h),this.select("image").attr("display","none"),this.size(z).center(.44*s,200),n("#inCount").find("span").html(B)})})}function U(){_.animate(600,"-").during(function(e,t,a){var i=(10*e).toFixed(0)- -2;i%2==0&&(_.select("image").attr("display","none"),_.select("image.peop_"+(i/2).toFixed(0)).attr("display","inline"))}).loop(!0,!0)}T.select("image").attr("display","none");var B=0,F=0,L=30,P=null;function S(){var e,t;e=!(g=!1),t=n(".power").height()-8,n("#pointerv").css({transition:"all 1.5s linear","-webkit-transition":"all 1.5s linear","-moz-transition":"all 1.5s linear","-o-transition":"all 1.5s linear",transform:"translate(0, -"+t+"px)"}),n("#pointerv").addClass("moveUp"),e=!1,P=setInterval(function(){e?(n("#pointerv").css({transform:"translate(0, -"+t+"px)"}),n("#pointerv").removeClass("moveDown").addClass("moveUp"),e=!1):(n("#pointerv").css({transform:"translate(0, 0)"}),n("#pointerv").removeClass("moveUp").addClass("moveDown"),e=!0)},1500),U();var a=30;n("#clock").find("span.one").attr("num",3),n("#clock").find("span.two").attr("num",0),n("#clock").attr("attr-seconds",a);var i=setInterval(function(){if(0<a){var e=(--a).toString().split("");1<e.length?(n("#clock").find("span.one").attr("num",e[0]),n("#clock").find("span.two").attr("num",e[1])):(n("#clock").find("span.one").attr("num","0"),n("#clock").find("span.two").attr("num",e[0])),n("#clock").attr("attr-seconds",a)}else console.log("游戏结束"),g=!0,t=n("#pointerv"),clearInterval(P),t.removeClass("moveUp"),t.removeClass("moveDown"),t.css({transition:"transform 0s linear 0s","-webkit-transition":"transform 0s linear 0s","-moz-transition":"transform 0s linear 0s","-o-transition":"transform 0s linear 0s",transform:"translate(0, 0)"}),_.finish(),clearInterval(i),n("#successTimes").html(B),n("#getedCoins").html(300),n("#timeEnd").show(),function(){F=0,L=30,n("#pointerw").css("height",L+"%"),B=0,YourTimeCount=parseInt(YourTimeCount)-1;var e=parseInt(n("#myTimes").attr("attr-v"));n("#myTimes").html(e-1).attr("attr-v",e-1)}();var t},1e3)}n("#basket").on("click",function(){var e,t,a=(new Date).getTime();0<parseInt(YourTimeCount)&&1500<a-u&&(u=a,e=window.getComputedStyle(n("#pointerv")[0]).getPropertyValue("transform").toString().split(","),t=e[e.length-1].toString().slice(0,-1),F=Math.abs(parseFloat(t).toFixed(2)),function(i){_.finish(),_.attr("display","none");var n=(1/29).toFixed(2),o=0,s=!1;w.select("image").attr("display","none"),w.animate(1e3,"<>").during(function(e,t,a){o<29&&n*o<e&&(w.select("image.peop_"+o).attr("display","none"),o++,w.select("image.peop_"+o).attr("display","inline")),s||18!=o||(Y(i()),s=!0)}).after(function(){w.stop(),w.select("image").attr("display","none"),U(),_.attr("display","inline"),g&&_.finish()})}(function(){var e=!1;return L<=F&&(e=!0,B+=1,L<90&&(L+=5),n("#pointerw").css("height",L+"%")),e}))});var D=setTimeout(function(){n(".app-loading").remove(),m.finish(),0<parseInt(YourTimeCount)?n("#help").show():n("#yourTimesOver").show(),clearTimeout(D)},3e3);n(".helpBtn").on("click",function(){n("body").find(".dialog").hide(),n("#help").show()}),n("#knowIt").on("click",function(){var e;n("#help").hide(),n(this).hasClass("knowed")||(n("#knowIt").addClass("knowed"),S(),(e=document.getElementById("backMusic")).paused&&e.play())}),n("#playAgain").on("click",function(){n("#timeEnd").hide(),0<parseInt(YourTimeCount)?S():n("#yourTimesOver").show()}),console.log("play basketball")}(Zepto);